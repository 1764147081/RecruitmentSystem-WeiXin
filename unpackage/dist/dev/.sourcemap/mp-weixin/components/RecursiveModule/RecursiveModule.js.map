{"version":3,"file":"RecursiveModule.js","sources":["components/RecursiveModule/RecursiveModule.vue","E:/000Work/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvMTc2NDE0NzA4MS9EZXNrdG9wL25ldy9SZWNydWl0bWVudFN5c3RlbS1XZWlYaW4vUmVjcnVpdG1lbnRTeXN0ZW0tV2VpWGluL2NvbXBvbmVudHMvUmVjdXJzaXZlTW9kdWxlL1JlY3Vyc2l2ZU1vZHVsZS52dWU"],"sourcesContent":["<template>\r\n\t<template v-for=\"module in modules\" :key=\"module.id\">\r\n\t\t<view :class=\"'module-item level-' + level\">\r\n\t\t\t<!-- 对于isDepartment为1的部门，只显示在当前层级 -->\r\n\t\t\t<view v-if=\"module.isDepartment === 1\" class=\"module-header leaf-node\" @click=\"viewDepartmentDetail(module.id)\">\r\n\t\t\t\t<text class=\"module-name\">{{ module.name }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\t\t\t\t<view class=\"module-header\" @click=\"toggleModule(module)\">\r\n\t\t\t\t\t<text class=\"module-name\">{{ module.name }}</text>\r\n\t\t\t\t\t<text class=\"arrow-icon\">{{ module.expanded ? '▼' : '►' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 对于isDepartment不为1的模块，展开时渲染子模块和部门 -->\r\n\t\t\t\t<view v-if=\"module.expanded\" class=\"submodule-list\">\r\n\t\t\t\t\t<!-- 递归渲染更深层级的子模块，最多支持10级 -->\r\n\t\t\t\t\t<RecursiveModule v-if=\"module.submodules && module.submodules.length > 0 && level < 10\"\r\n\t\t\t\t\t\t:modules=\"module.submodules\" :level=\"level + 1\" :unfoldStation=\"unfoldStation\"\r\n\t\t\t\t\t\t:viewDepartmentDetail=\"viewDepartmentDetail\" />\r\n\r\n\t\t\t\t\t<!-- 渲染部门 -->\r\n\t\t\t\t\t<view v-if=\"module.departments && module.departments.length > 0\" class=\"department-list\">\r\n\t\t\t\t\t\t<view v-for=\"department in module.departments\" :key=\"department.id\" class=\"department-item\"\r\n\t\t\t\t\t\t\t@click=\"viewDepartmentDetail(department.id)\">\r\n\t\t\t\t\t\t\t<text>{{ department.name }}</text>\r\n\t\t\t\t\t\t\t<text class=\"arrow-right\">→</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</template>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tdefineProps,\r\n\t\tdefineEmits,\r\n\t\tonMounted\r\n\t} from 'vue';\r\n\timport {\r\n\t\trequest\r\n\t} from '../../common/request';\r\n\r\n\t// 定义组件参数\r\n\tonMounted(()=>{\r\n\t\tconsole.log(\"渲染组件加载\")\r\n\t})\r\n\tconst props = defineProps({\r\n\t\tmodules: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tunfoldStation: {\r\n\t\t\ttype: Function,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tviewDepartmentDetail: {\r\n\t\t\ttype: Function,\r\n\t\t\trequired: true\r\n\t\t}\r\n\t});\r\n\r\n\t// 定义组件方法\r\n\tconst toggleModule = (module) => {\r\n\t\tmodule.expanded = !module.expanded;\r\n\t\t// 如果展开模块，确保已加载其子数据\r\n\t\tif (module.expanded && module.submodules && module.submodules.length === 0) {\r\n\t\t\tprops.unfoldStation(module.id, module);\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.module-item {\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t}\r\n\r\n\t.module-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 30rpx 20rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.submodule-list {\r\n\t\tpadding-left: 40rpx;\r\n\t\tbackground-color: #f9f9f9;\r\n\t}\r\n\r\n\t.department-list {\r\n\t\tpadding-left: 40rpx;\r\n\t\tbackground-color: #f0f0f0;\r\n\t}\r\n\r\n\t.department-item {\r\n\t\tpadding: 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.arrow-icon {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.leaf-node {\r\n\tbackground-color: #f0f7ff;\r\n\tfont-weight: normal;\r\n}\r\n\r\n.leaf-node .module-name {\r\n\tcolor: #1890ff;\r\n\tfont-weight: bold;\r\n}\r\n\r\n\t.arrow-right {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-left: auto;\r\n\t}\r\n\r\n\t/* 递归模块层级样式 */\r\n\t.level-1 .module-header {\r\n\t\tpadding-left: 20rpx;\r\n\t}\r\n\r\n\t.level-2 .module-header {\r\n\t\tpadding-left: 60rpx;\r\n\t}\r\n\r\n\t.level-3 .module-header {\r\n\t\tpadding-left: 100rpx;\r\n\t}\r\n\r\n\t.level-4 .module-header {\r\n\t\tpadding-left: 140rpx;\r\n\t}\r\n\r\n\t.level-5 .module-header {\r\n\t\tpadding-left: 180rpx;\r\n\t}\r\n\r\n\t.level-6 .module-header {\r\n\t\tpadding-left: 220rpx;\r\n\t}\r\n\r\n\t.level-7 .module-header {\r\n\t\tpadding-left: 260rpx;\r\n\t}\r\n\r\n\t.level-8 .module-header {\r\n\t\tpadding-left: 300rpx;\r\n\t}\r\n\r\n\t.level-9 .module-header {\r\n\t\tpadding-left: 340rpx;\r\n\t}\r\n\r\n\t.level-10 .module-header {\r\n\t\tpadding-left: 380rpx;\r\n\t}\r\n</style>","import Component from 'C:/Users/1764147081/Desktop/new/RecruitmentSystem-WeiXin/RecruitmentSystem-WeiXin/components/RecursiveModule/RecursiveModule.vue'\nwx.createComponent(Component)"],"names":["onMounted","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CCA,kBAAAA,UAAU,MAAI;AACbC,oBAAAA,MAAY,MAAA,OAAA,wDAAA,QAAQ;AAAA,IACtB,CAAE;AACD,UAAM,QAAQ;AAoBd,UAAM,eAAe,CAAC,WAAW;AAChC,aAAO,WAAW,CAAC,OAAO;AAE1B,UAAI,OAAO,YAAY,OAAO,cAAc,OAAO,WAAW,WAAW,GAAG;AAC3E,cAAM,cAAc,OAAO,IAAI,MAAM;AAAA,MACrC;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxEA,GAAG,gBAAgB,SAAS;;;;"}
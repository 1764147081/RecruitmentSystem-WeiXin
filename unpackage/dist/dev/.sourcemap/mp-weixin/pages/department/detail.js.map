{"version":3,"file":"detail.js","sources":["pages/department/detail.vue","E:/000Work/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGVwYXJ0bWVudC9kZXRhaWwudnVl"],"sourcesContent":["<template>\n  <view class=\"detail-container\">\n    <view class=\"header\">\n      <text class=\"title\">部门详情</text>\n    </view>\n\n    <!-- 海报区域 -->\n    <view class=\"poster-container\">\n      <image :src=\"departmentInfo.posterUrl || '/static/assets/detail.png'\" mode=\"aspectFill\"></image>\n    </view>\n\n    <!-- 部门介绍 -->\n    <view class=\"intro-container\">\n      <view class=\"section-title\">部门介绍</view>\n      <view class=\"section-content\">{{ departmentInfo.description || '暂无部门介绍' }}</view>\n    </view>\n\n    <!-- 部门职责 -->\n    <view class=\"duty-container\">\n      <view class=\"section-title\">部门职责</view>\n      <view class=\"section-content\">{{ departmentInfo.duties || '暂无部门职责信息' }}</view>\n    </view>\n\n    <!-- 问卷填报按钮 -->\n    <view class=\"btn-container\">\n      <button class=\"submit-btn\" @click=\"navigateToQuestionnaire\">点击报名</button>\n    </view>\n\n    <!-- 底部导航 -->\n    <view class=\"tab-bar\">\n      <view class=\"tab-item active\" @click=\"navigateToDepartment\">部门展览</view>\n      <view class=\"tab-item\" @click=\"navigateToPaper\">已填报</view>\n      <view class=\"tab-item\" @click=\"navigateToInfo\">个人中心</view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useFirstStore } from '@/stores/index.js';\n// 移除接口请求依赖，使用模拟数据\n\nexport default {\n  setup() {\n    const store = useFirstStore();\n    const departmentInfo = ref({});\n    const questionnaireId = ref('');\n    const departmentId = ref('');\n\n    // 获取部门ID\n    const getDepartmentId = () => {\n      const pages = getCurrentPages();\n      const currentPage = pages[pages.length - 1];\n      departmentId.value = currentPage.options.id || '';\n    };\n\n    // 加载状态\n    const loading = ref(false);\n    const errorMsg = ref('');\n\n    // 跳转到问卷页面\n    const navigateToQuestionnaire = () => {\n      if (questionnaireId.value) {\n        uni.navigateTo({\n          url: `/pages/paper/paper?id=${questionnaireId.value}`\n        });\n      } else {\n        uni.showToast({\n          title: '该部门暂无问卷',\n          icon: 'none'\n        });\n      }\n    };\n\n    onMounted(() => {\n      getDepartmentId();\n      // 直接设置模拟数据，不再调用fetchDepartmentDetail\n      departmentInfo.value = {\n        name: '产品部门',\n        description: '产品部门负责公司所有产品的规划、设计和管理工作，确保产品满足用户需求并实现商业目标。',\n        duties: '1. 负责产品的需求分析和规划\\n2. 制定产品 roadmap\\n3. 与设计、开发团队协作，推动产品落地\\n4. 收集用户反馈，持续优化产品体验',\n        posterUrl: '/static/assets/detail.png'\n      };\n      // 直接设置问卷ID，不再调用fetchQuestionnaire\n      questionnaireId.value = 'mock_questionnaire_123';\n      console.log('使用模拟问卷ID:', questionnaireId.value);\n    });\n\n    // 已清理不再需要的函数定义，避免潜在冲突\n\n    // 跳转到部门列表\n    const navigateToDepartment = () => {\n      uni.navigateTo({\n        url: '/pages/department/department'\n      });\n    };\n\n    // 跳转到已填报页面\n    const navigateToPaper = () => {\n      uni.navigateTo({\n        url: '/pages/paper/paper'\n      });\n    };\n\n    // 跳转到个人中心\n    const navigateToInfo = () => {\n      uni.navigateTo({\n        url: '/pages/info/info'\n      });\n    };\n\n    return {\n      departmentInfo,\n      navigateToQuestionnaire,\n      loading,\n      navigateToDepartment,\n      navigateToPaper,\n      navigateToInfo\n    };\n\n    // 使用uni-app提供的getCurrentPages API\n    const getCurrentPages = () => {\n      return uni.getCurrentPages();\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.detail-container {\n  padding-bottom: 100rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n.header {\n  height: 88rpx;\n  line-height: 88rpx;\n  text-align: center;\n  background-color: #fff;\n  border-bottom: 1rpx solid #eee;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 999;\n}\n\n.title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.poster-container {\n  margin-top: 88rpx;\n  width: 100%;\n  height: 400rpx;\n  overflow: hidden;\n}\n\n.poster-container image {\n  width: 100%;\n  height: 100%;\n}\n\n.intro-container,\n.duty-container {\n  margin: 20rpx;\n  padding: 20rpx;\n  background-color: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\n}\n\n.section-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 20rpx;\n  padding-bottom: 10rpx;\n  border-bottom: 1rpx solid #eee;\n}\n\n.section-content {\n  font-size: 28rpx;\n  color: #666;\n  line-height: 1.6;\n  white-space: pre-wrap;\n}\n\n.btn-container {\n  margin: 40rpx 20rpx;\n}\n\n.submit-btn {\n  background-color: #e63946;\n  color: #fff;\n  font-size: 32rpx;\n  border-radius: 60rpx;\n  height: 88rpx;\n  line-height: 88rpx;\n}\n\n.tab-bar {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 100rpx;\n  background-color: #fff;\n  border-top: 1rpx solid #eee;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.tab-item {\n  font-size: 28rpx;\n  color: #999;\n}\n\n.tab-item {\n  font-size: 28rpx;\n  color: #999;\n  text-align: center;\n  padding: 10rpx 0;\n}\n\n.tab-item.active {\n  color: #e63946;\n  font-weight: bold;\n}\n</style>","import MiniProgramPage from 'C:/Users/1764147081/Desktop/new/RecruitmentSystem-WeiXin/RecruitmentSystem-WeiXin/pages/department/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["useFirstStore","ref","uni","onMounted"],"mappings":";;;AA0CA,MAAK,YAAU;AAAA,EACb,QAAQ;AACQA,+BAAe;AAC7B,UAAM,iBAAiBC,kBAAI,CAAA,CAAE;AAC7B,UAAM,kBAAkBA,kBAAI,EAAE;AAC9B,UAAM,eAAeA,kBAAI,EAAE;AAG3B,UAAM,kBAAkB,MAAM;AAC5B,YAAM,QAAQ;AACd,YAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAC1C,mBAAa,QAAQ,YAAY,QAAQ,MAAM;AAAA;AAIjD,UAAM,UAAUA,kBAAI,KAAK;AACRA,kBAAAA,IAAI,EAAE;AAGvB,UAAM,0BAA0B,MAAM;AACpC,UAAI,gBAAgB,OAAO;AACzBC,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK,yBAAyB,gBAAgB,KAAK;AAAA,QACrD,CAAC;AAAA,aACI;AACLA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAAA,MACH;AAAA;AAGFC,kBAAAA,UAAU,MAAM;AACd;AAEA,qBAAe,QAAQ;AAAA,QACrB,MAAM;AAAA,QACN,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,WAAW;AAAA;AAGb,sBAAgB,QAAQ;AACxBD,oBAAA,MAAA,MAAA,OAAA,qCAAY,aAAa,gBAAgB,KAAK;AAAA,IAChD,CAAC;AAKD,UAAM,uBAAuB,MAAM;AACjCA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACP,CAAC;AAAA;AAIH,UAAM,kBAAkB,MAAM;AAC5BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACP,CAAC;AAAA;AAIH,UAAM,iBAAiB,MAAM;AAC3BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACP,CAAC;AAAA;AAGH,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAIF,UAAM,kBAAkB,MAAM;AAC5B,aAAOA,cAAAA,MAAI;;EAEf;AACF;;;;;;;;;;;;;;AC5HA,GAAG,WAAW,eAAe;"}
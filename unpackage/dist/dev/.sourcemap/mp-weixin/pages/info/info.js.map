{"version":3,"file":"info.js","sources":["pages/info/info.vue","E:/000Work/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5mby9pbmZvLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"info-container\">\r\n\t\t<!-- 用户信息头部 -->\r\n\t\t<view class=\"user-header\">\r\n\t\t\t<view class=\"avatar-container\">\r\n\t\t\t\t<image class=\"avatar\" :src=\"avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"user-info\">\r\n\t\t\t\t<text class=\"user-name\">{{ name }}</text>\r\n\t\t\t\t<text class=\"user-desc\">{{ profile }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 编辑按钮 -->\r\n\t\t<view class=\"edit-btn\" @click=\"toEditInfo\">\r\n\t\t\t<text>编辑个人信息</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 个人信息列表 -->\r\n\t\t<view class=\"info-list\">\r\n\t\t\t<view class=\"info-item\">\r\n\t\t\t\t<text class=\"info-label\">学院</text>\r\n\t\t\t\t<text class=\"info-value\">{{ depart }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-item\">\r\n\t\t\t\t<text class=\"info-label\">专业</text>\r\n\t\t\t\t<text class=\"info-value\">软件工程</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-item\">\r\n\t\t\t\t<text class=\"info-label\">邮箱</text>\r\n\t\t\t\t<text class=\"info-value\">{{ email }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-item\">\r\n\t\t\t\t<text class=\"info-label\">学号</text>\r\n\t\t\t\t<text class=\"info-value\">{{ username }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-item\">\r\n\t\t\t\t<text class=\"info-label\">QQ</text>\r\n\t\t\t\t<text class=\"info-value\">{{ qq }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 退出登录按钮 -->\r\n\t\t<view class=\"logout-btn\" @click=\"logout\">\r\n\t\t\t<text>退出登录</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部导航 -->\r\n\t\t<view class=\"tab-bar\">\r\n\t\t\t<view class=\"tab-item\" @click=\"navigateToDepartment\">部门展览</view>\r\n\t\t\t<view class=\"tab-item\" @click=\"navigateToPaper\">已填报</view>\r\n\t\t\t<view class=\"tab-item active\" @click=\"navigateToInfo\">个人中心</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tuseFirstStore\r\n\t} from '@/stores/index.js';\r\n\timport {\r\n\t\trequest\r\n\t} from '../../common/request';\r\n\t\r\n\tconst token = wx.getStorageSync('authToken');\r\n\t// 初始化store\r\n\tconst store = useFirstStore();\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tusername: '',\r\n\t\t\t\tdepart: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\temail: '',\r\n\t\t\t\tqq: '',\r\n\t\t\t\tavatar: '',\r\n\t\t\t\tprofile: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttoEditInfo() {\r\n\t\t\t\t// 跳转到编辑信息页面\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/info/edit'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tlogout() {\r\n\t\t\t\t// 退出登录逻辑\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要退出登录吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t// 调用store的logout方法清除所有登录状态\r\n\t\t\t\t\t\t\tstore.logout();\r\n\t\t\t\t\t\t\t// 跳转到登录页\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 跳转到部门列表\r\n\t\t\tnavigateToDepartment() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/department/department'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 跳转到已填报页面\r\n\t\t\tnavigateToPaper() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/paper/paper'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 跳转到个人中心\r\n\t\t\tnavigateToInfo() {\r\n\t\t\t\t// 当前页面，不需要跳转\r\n\t\t\t},\r\n\t\t\tasync getUserInfo() {\r\n\t\t\t\tlet response;\r\n\t\t\t\tconsole.log(\"现在获取个人信息\");\r\n\t\t\t\tconsole.log(token);\r\n\t\t\t\tresponse = await request({\r\n\t\t\t\t\turl: \"/user/info\",\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t\t'Authorization': `Bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// 处理响应数据\r\n\t\t\t\tif (response && response.data) {\r\n\t\t\t\t\tthis.username = response.data.username || '';\r\n\t\t\t\t\tthis.depart = response.data.depart || '';\r\n\t\t\t\t\tthis.name = response.data.name || '';\r\n\t\t\t\t\tthis.email = response.data.email || '';\r\n\t\t\t\t\tthis.qq = response.data.qq || '';\r\n\t\t\t\t\tthis.avatar = response.data.avatar || '/static/assets/nav_icon_avatar_nor.png';\r\n\t\t\t\t\tthis.profile = response.data.profile || '这个人很懒，什么都没有写';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getUserInfo();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.info-container {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.user-header {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding: 40rpx 0;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.avatar-container {\r\n\t\twidth: 160rpx;\r\n\t\theight: 160rpx;\r\n\t\tborder-radius: 50%;\r\n\t\toverflow: hidden;\r\n\t\tborder: 4rpx solid #eee;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.user-info {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.user-name {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.user-desc {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.info-list {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.info-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 30rpx 20rpx;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t}\r\n\r\n\t.info-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t.info-label {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.info-value {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #666;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.edit-btn {\r\n\t\tbackground-color: #007aff;\r\n\t\ttext-align: center;\r\n\t\tpadding: 25rpx 0;\r\n\t\tborder-radius: 16rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #fff;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.logout-btn {\r\n\t\tbackground-color: #fff;\r\n\t\ttext-align: center;\r\n\t\tpadding: 25rpx 0;\r\n\t\tborder-radius: 16rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #e64340;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\t\tmargin-bottom: 120rpx;\r\n\t}\r\n\r\n\t.tab-bar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\theight: 100rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-top: 1rpx solid #eee;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n\r\n\t.tab-item {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t\ttext-align: center;\r\n\t\tpadding: 10rpx 0;\r\n\t}\r\n\r\n\t.tab-item.active {\r\n\t\tcolor: #e63946;\r\n\t\tfont-weight: bold;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/1764147081/Desktop/new/RecruitmentSystem-WeiXin/RecruitmentSystem-WeiXin/pages/info/info.vue'\nwx.createPage(MiniProgramPage)"],"names":["wx","useFirstStore","uni","request"],"mappings":";;;;AAgEC,MAAM,QAAQA,cAAE,KAAC,eAAe,WAAW;AAE3C,MAAM,QAAQC,aAAAA;AACd,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,IAAI;AAAA,MACJ,QAAQ;AAAA,MACR,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,aAAa;AAEZC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA,IACD,SAAS;AAERA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAEhB,kBAAM,OAAM;AAEZA,0BAAAA,MAAI,WAAW;AAAA,cACd,KAAK;AAAA,YACN,CAAC;AAAA,UACF;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,uBAAuB;AACtBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,kBAAkB;AACjBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,iBAAiB;AAAA,IAEhB;AAAA,IACD,MAAM,cAAc;AACnB,UAAI;AACJA,oBAAAA,MAAY,MAAA,OAAA,8BAAA,UAAU;AACtBA,oBAAAA,MAAY,MAAA,OAAA,8BAAA,KAAK;AACjB,iBAAW,MAAMC,eAAAA,QAAQ;AAAA,QACxB,KAAK;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,UACP,gBAAgB;AAAA,UAChB,iBAAiB,UAAU,KAAK;AAAA,QACjC;AAAA,MACD,CAAC;AAED,UAAI,YAAY,SAAS,MAAM;AAC9B,aAAK,WAAW,SAAS,KAAK,YAAY;AAC1C,aAAK,SAAS,SAAS,KAAK,UAAU;AACtC,aAAK,OAAO,SAAS,KAAK,QAAQ;AAClC,aAAK,QAAQ,SAAS,KAAK,SAAS;AACpC,aAAK,KAAK,SAAS,KAAK,MAAM;AAC9B,aAAK,SAAS,SAAS,KAAK,UAAU;AACtC,aAAK,UAAU,SAAS,KAAK,WAAW;AAAA,MACzC;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,YAAW;AAAA,EACjB;AACD;;;;;;;;;;;;;;;;;;;ACpJD,GAAG,WAAW,eAAe;"}
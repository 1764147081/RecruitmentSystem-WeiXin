import{_ as a,I as e,D as s,r as t,o as n,p as r,a as o,c as l,e as i,w as u,H as c,i as d,d as m,f,k as p,g as _,B as w,M as v,F as y,t as k,G as I,y as $,C as g}from"./index-BIrkV5je.js";const h=a({__name:"admin",setup(a){const h=e(),F=s("authToken");let b=t([]),x=t([]);return n((async()=>{await async function(){const a=await r({url:`/answer/view/department?departmentId=${h.query.departmentId}`,header:{"content-type":"application/x-www-form-urlencoded",Authorization:`Bearer ${F}`}});b.value=[...a.data],x.value=await Promise.all(b.value.map((async a=>({...await async function(a){return(await r({url:`/user/info?username=${a}`,header:{"content-type":"application/x-www-form-urlencoded",Authorization:`Bearer ${F}`}})).data}(a.username),...a}))))}()})),(a,e)=>{const s=o(l("u-navbar"),c),t=d,n=$,r=g;return m(),i(t,{class:"admin-container"},{default:u((()=>[f(s,{title:"部门管理","left-icon":"arrow-left","auto-back":"","bg-color":"#F8F8F8","title-color":"#000000",border:!1}),f(t,{class:"management-section"},{default:u((()=>[f(t,{class:"section-title"},{default:u((()=>[p("该部门报名成员")])),_:1}),f(t,{class:"function-list"},{default:u((()=>[(m(!0),_(y,null,w(v(x),((a,e)=>(m(),i(t,{class:"user-item",key:e,onClick:e=>{return s=a.username,t=a.questionnaireId,void I({url:`/pages/department/user-info?username=${s}&questionnaireId=${t}`});var s,t}},{default:u((()=>[f(n,{class:"avatar",src:a.avatar||"/static/assets/nav_icon_avatar_nor.png",mode:"aspectFill"},null,8,["src"]),f(t,{class:"user-info"},{default:u((()=>[f(r,{class:"name"},{default:u((()=>[p(k(a.name),1)])),_:2},1024),f(r,{class:"username"},{default:u((()=>[p(k(a.username),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-0ced3916"]]);export{h as default};
